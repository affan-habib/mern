"use strict";(self.webpackChunkbilling_front_end=self.webpackChunkbilling_front_end||[]).push([[470],{7470:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r=n(4942),a=n(1413),i=n(9439),d=n(2791),l=n(6650),o=n(4162),s=n(1091),c=n(5399),h=n(3435),u=n(6030),m=n(1502),f=n(8014),p=n(6877),C=n(9825),N=n(3811),g=n(184),Z=function(e){var t=e.shouldDelete,n=(0,u.I0)();return(0,g.jsx)(N.Z,{color:"error",onClick:function(){return n((0,m.t9)({operationId:"api/products/".concat(t),output:"itemDeleted",parameters:{method:"DELETE"}}))},children:(0,g.jsx)(C.Z,{})})},b=n(2986),v=n(2039),x=function(){var e=(0,u.I0)(),t=(0,u.v9)(m.iU),n=t.items,C=void 0===n?{data:[]}:n,N=t.itemDeleted,x=void 0===N?{data:{id:null}}:N,w=t.itemSaved;(0,d.useEffect)((function(){setTimeout((function(){return e((0,m.t9)({operationId:"api/products",output:"items"}))}),1e3)}),[x.data.id,w]);var y=[{field:"id",headerClassName:"top-header-1",cellClassName:"top-header-2",headerName:"ID",width:50,align:"center",sortable:!1,headerAlign:"center"},{field:"serviceName",headerClassName:"top-header-1",cellClassName:"top-header-3",headerName:"SERVICE NAME",flex:1,headerAlign:"left",sortable:!1},{headerClassName:"top-header-1",cellClassName:"top-header-2",field:"basePrice",headerName:"PRICE",type:"number",minWidth:120,headerAlign:"center",sortable:!1,align:"center"},{headerClassName:"top-header-1",cellClassName:"top-header-3",field:"discountPerUnit",headerName:"DISCOUNT",type:"number",minWidth:120,headerAlign:"center",sortable:!1,align:"center"},{headerClassName:"top-header-1",cellClassName:"top-header-2",field:"vatPerUnit",headerName:"VAT PER UNIT",type:"number",minWidth:120,headerAlign:"center",sortable:!1,align:"center"},{headerClassName:"top-header-1",cellClassName:"top-header-3",field:"expiryDate",headerName:"EXPIRY DATE",type:"number",minWidth:120,headerAlign:"center",sortable:!1,align:"center"},{minWidth:120,align:"center",field:"actions",headerName:"ACTION",type:"actions",headerClassName:"top-header-1",cellClassName:"top-header-2",renderCell:function(e){return(0,g.jsx)(Z,{shouldDelete:e.id})}}],A=d.useState([]),E=(0,i.Z)(A,2),I=E[0],R=E[1],D=d.useState(!1),P=(0,i.Z)(D,2),T=P[0],j=P[1];return(0,g.jsxs)(l.Z,{elevation:1,sx:{width:"100%",bgcolor:"#f5f9f0"},children:[(0,g.jsxs)(o.Z,{direction:"row",children:[(0,g.jsx)(s.Z,{sx:{m:2,width:200},variant:"contained",onClick:function(){return j(!0)},children:"Add New service"}),(0,g.jsx)(s.Z,{sx:{m:2,ml:0,width:200},disabled:0==I.length,variant:"contained",color:"warning",onClick:function(){return C.data.filter((function(e){return I.indexOf(e.id)+1})).forEach((function(t){var n;return e((0,f.Xq)((0,a.Z)((0,a.Z)({},t),{},(n={discountPerUnit:0,expiryDate:0,vatPerUnit:0},(0,r.Z)(n,"discountPerUnit",0),(0,r.Z)(n,"quantityOrdered",1),(0,r.Z)(n,"quantityReturned",0),(0,r.Z)(n,"discountTotal",0),(0,r.Z)(n,"discountReturned",0),(0,r.Z)(n,"vatTotal",0),(0,r.Z)(n,"vatReturned",0),(0,r.Z)(n,"subtotalOrdered",0),(0,r.Z)(n,"subtotalReturned",0),(0,r.Z)(n,"rowTotal",0),(0,r.Z)(n,"returnedBy","string"),(0,r.Z)(n,"returnDate","2022-11-13T11:35:33.765Z"),n))))}))},children:I.length?"Add to New bill":"Select services"}),(0,g.jsx)(c.Z,{open:T,onClose:function(){return j(!T)},children:(0,g.jsx)(p.Z,{setOpen:j})})]}),(0,g.jsx)(h._,{sx:{height:400},getRowId:function(e){return e._id},checkboxSelection:!0,rows:C.data,columns:y,disableSelectionOnClick:!0,disableColumnSelector:!0,components:{NoRowsOverlay:b.Z,Pagination:v.Z},headerHeight:55,hideFooterPagination:!0,disableColumnMenu:!0,density:"compact",showCellRightBorder:!0,showColumnRightBorder:!0,onSelectionModelChange:function(e){R(e)}})]})}}}]);
//# sourceMappingURL=470.37344752.chunk.js.map