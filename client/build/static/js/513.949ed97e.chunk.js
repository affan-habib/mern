"use strict";(self.webpackChunkbilling_front_end=self.webpackChunkbilling_front_end||[]).push([[513],{2986:function(e,n,t){t.d(n,{Z:function(){return s}});t(2791);var i=t(6863),r=t(4565),a=t(184),l=(0,i.ZP)("div")((function(e){var n=e.theme;return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%","& .ant-empty-img-1":{fill:"light"===n.palette.mode?"#aeb8c2":"#262626"},"& .ant-empty-img-2":{fill:"light"===n.palette.mode?"#f5f5f7":"#595959"},"& .ant-empty-img-3":{fill:"light"===n.palette.mode?"#dce0e6":"#434343"},"& .ant-empty-img-4":{fill:"light"===n.palette.mode?"#fff":"#1c1c1c"},"& .ant-empty-img-5":{fillOpacity:"light"===n.palette.mode?"0.8":"0.08",fill:"light"===n.palette.mode?"#f5f5f5":"#fff"}}}));function s(){return(0,a.jsxs)(l,{children:[(0,a.jsx)("svg",{width:"120",height:"100",viewBox:"0 0 184 152","aria-hidden":!0,focusable:"false",children:(0,a.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,a.jsxs)("g",{transform:"translate(24 31.67)",children:[(0,a.jsx)("ellipse",{className:"ant-empty-img-5",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),(0,a.jsx)("path",{className:"ant-empty-img-1",d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),(0,a.jsx)("path",{className:"ant-empty-img-2",d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),(0,a.jsx)("path",{className:"ant-empty-img-3",d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})]}),(0,a.jsx)("path",{className:"ant-empty-img-3",d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),(0,a.jsxs)("g",{className:"ant-empty-img-4",transform:"translate(149.65 15.383)",children:[(0,a.jsx)("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),(0,a.jsx)("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"})]})]})}),(0,a.jsx)(r.Z,{color:"warning",sx:{mt:1},children:"No Row Found"})]})}},2039:function(e,n,t){t.d(n,{Z:function(){return c}});var i=t(1413),r=t(9961),a=t(4277),l=t(169),s=t(6700),o=t(9811),d=t(184);function c(){var e=(0,r.l)(),n=(0,a.P)(e,l.bu),t=(0,a.P)(e,l.UB);return(0,d.jsx)(s.Z,{color:"primary",variant:"outlined",shape:"rounded",page:n+1,count:t,renderItem:function(e){return(0,d.jsx)(o.Z,(0,i.Z)((0,i.Z)({},e),{},{disableRipple:!0}))},onChange:function(n,t){return e.current.setPage(t-1)}})}},9513:function(e,n,t){t.r(n),t.d(n,{default:function(){return ge}});var i=t(1413),r=t(9439),a=t(5399),l=t(6015),s=t(6650),o=t(5953),d=t(6582),c=t(1091),u=t(2506),h=t(2791),m=t(6030),x=t(3435),f=t(9825),p=t(3811),Z=t(8014),j=t(184),g=function(e){var n=e.shouldDelete,t=(0,m.I0)();return(0,j.jsx)(p.Z,{color:"error",size:"small",onClick:function(){return t((0,Z.cl)(n))},children:(0,j.jsx)(f.Z,{})})},v=t(2986),b=t(187),C=t(4162),N=t(9365),y=t(9911),P=t(5814),S=t(5927),E=t(4384),w=t(1502),R=t(4942),I=t(3788),A=t(6877),D=t(2039),O=t(2840),T=function(){var e=(0,m.I0)(),n=(0,m.v9)((function(e){return e.cart})).itemList.map((function(e){return e.id})),t=(0,h.useState)(!1),s=(0,r.Z)(t,2),o=s[0],d=s[1],u=(0,m.v9)(w.iU).items,f=void 0===u?{data:[]}:u;(0,h.useEffect)((function(){return e((0,w.t9)({operationId:"api/products",output:"items"}))}),[]);var p=[{field:"id",headerClassName:"top-header-1",cellClassName:"top-header-2",headerName:"CODE",width:70,align:"left",sortable:!1,headerAlign:"left"},{field:"serviceName",headerClassName:"top-header-1",cellClassName:"top-header-3",headerName:"SERVICE NAME",flex:1,headerAlign:"left",sortable:!1},{headerClassName:"top-header-1",cellClassName:"top-header-2",field:"basePrice",headerName:"PRICE",type:"number",minWidth:120,headerAlign:"center",sortable:!1,align:"center"},{headerClassName:"top-header-1",cellClassName:"top-header-3",minWidth:120,align:"center",field:"actions",headerName:"ACTION",type:"actions",renderCell:function(t){return(0,j.jsx)(c.Z,{startIcon:n.includes(t.row.id)||(0,j.jsx)(O.Z,{style:{fontSize:16}}),variant:"contained",sx:{height:20,width:70,borderRadius:10},size:"small",color:"info",onClick:function(){var n;return e((0,Z.Xq)((0,i.Z)((0,i.Z)({},t.row),{},(n={discountPerUnit:0,expiryDate:0,vatPerUnit:0},(0,R.Z)(n,"discountPerUnit",0),(0,R.Z)(n,"quantityOrdered",1),(0,R.Z)(n,"quantityReturned",0),(0,R.Z)(n,"discountTotal",0),(0,R.Z)(n,"discountReturned",0),(0,R.Z)(n,"vatTotal",0),(0,R.Z)(n,"vatReturned",0),(0,R.Z)(n,"subtotalOrdered",0),(0,R.Z)(n,"subtotalReturned",0),(0,R.Z)(n,"rowTotal",0),(0,R.Z)(n,"returnedBy","string"),(0,R.Z)(n,"returnDate","2022-11-13T11:35:33.765Z"),n))))},children:n.includes(t.row.id)?"ADDED":"ADD"})}}];var g=h.useState([]),b=(0,r.Z)(g,2),N=b[0],y=b[1],P=function(){return f.data.filter((function(e){return N.indexOf(e.id)+1})).forEach((function(n){var t;return e((0,Z.Xq)((0,i.Z)((0,i.Z)({},n),{},(t={discountPerUnit:0,expiryDate:0,vatPerUnit:0},(0,R.Z)(t,"discountPerUnit",0),(0,R.Z)(t,"quantityOrdered",1),(0,R.Z)(t,"quantityReturned",0),(0,R.Z)(t,"discountTotal",0),(0,R.Z)(t,"discountReturned",0),(0,R.Z)(t,"vatTotal",0),(0,R.Z)(t,"vatReturned",0),(0,R.Z)(t,"subtotalOrdered",0),(0,R.Z)(t,"subtotalReturned",0),(0,R.Z)(t,"rowTotal",0),(0,R.Z)(t,"returnedBy","string"),(0,R.Z)(t,"returnDate","2022-11-13T11:35:33.765Z"),t))))}))};return(0,j.jsxs)(l.Z,{sx:{height:400,p:2,width:"100%"},children:[(0,j.jsx)(a.Z,{open:o,onClose:function(){return d(!o)},children:(0,j.jsx)(A.Z,{setOpen:d})}),(0,j.jsx)(x._,{rows:f.data,columns:p,isRowSelectable:function(e){return n.includes(e)},disableSelectionOnClick:!0,disableColumnSelector:!0,headerHeight:55,hideFooterPagination:!0,hideFooter:!0,disableColumnMenu:!0,checkboxSelection:!0,density:"compact",showCellRightBorder:!0,showColumnRightBorder:!0,onSelectionModelChange:function(e){y(e)},components:{Toolbar:function(){return(0,j.jsxs)(C.Z,{direction:"row",sx:{justifyContent:"space-between",pt:2,bgcolor:"#e2ffff"},children:[(0,j.jsx)(I.T,{sx:{py:1,px:1,mr:2}}),(0,j.jsxs)(C.Z,{justifyContent:"space-between",direction:"row",children:[(0,j.jsx)(c.Z,{sx:{mb:2,mr:2},disabled:0==N.length,variant:"contained",color:"info",onClick:function(){return P()},children:N.length?"Add services":"Select services"}),(0,j.jsx)(c.Z,{sx:{mb:2,mr:2},color:"info",variant:"contained",onClick:function(){return d(!o)},children:"Add New Service"})]})]})},NoRowsOverlay:v.Z,Pagination:D.Z},componentsProps:{toolbar:{showQuickFilter:!0,quickFilterProps:{debounceMs:500}}}})]})},U=function(){var e=(0,m.I0)(),n=(0,h.useRef)(),t=(0,h.useState)(!1),s=(0,r.Z)(t,2),o=s[0],d=s[1],u=(0,h.useState)(!0),x=(0,r.Z)(u,2),f=x[0],p=x[1],g=(0,m.v9)(w.iU).items,v=void 0===g?{data:[]}:g,R=(0,m.v9)((function(e){return e.cart.itemList}));(0,h.useEffect)((function(){e((0,w.t9)({operationId:"api/products",output:"items"}))}),[e]);var I=R.map((function(e){return e.id})),A=v.data.filter((function(e){return-1==I.indexOf(e.id)})),D=(0,S.D)({stringify:function(e){var n=e.serviceName,t=e.id;return"".concat(n," ").concat(t)}});return(0,j.jsxs)(l.Z,{maxWidth:"100%",children:[(0,j.jsxs)(C.Z,{direction:"row",alignItems:"flex-end",children:[(0,j.jsxs)(C.Z,{children:[(0,j.jsx)(N.Z,{sx:{mb:.5,pt:2},children:"SEARCH ITEM"}),(0,j.jsx)(E.Z,{autoFocus:!0,size:"medium",disablePortal:!0,noOptionsText:"No Match Found",filterOptions:D,clearOnEscape:!0,id:"id",sx:{width:200},options:A,autoHighlight:!0,getOptionLabel:function(e){return e.serviceName},renderInput:function(e){return(0,j.jsx)(y.Z,(0,i.Z)((0,i.Z)({},e),{},{inputProps:(0,i.Z)({},e.inputProps),placeholder:"Add Service by Id/Name",inputRef:n}))},renderOption:function(e,n){return(0,j.jsxs)(l.Z,(0,i.Z)((0,i.Z)({component:"li"},e),{},{children:[n.serviceName," (",n.id,")"]}))},onChange:function(t,r){e((0,Z.Xq)((0,i.Z)({id:r.id,basePrice:r.basePrice,serviceName:r.serviceName},{expiryDate:0,vatPerUnit:0,discountPerUnit:0,quantityOrdered:1,quantityReturned:0,discountTotal:0,discountReturned:0,vatTotal:0,vatReturned:0,subtotalOrdered:0,subtotalReturned:0,rowTotal:0,returnedBy:"string",returnDate:"2022-11-13T11:35:33.765Z"}))),p(!f),setTimeout((function(){return n.current.focus()}),100)}},f)]}),(0,j.jsx)(P.Z,{title:"SEE ALL SERVICES",arrow:!0,children:(0,j.jsx)(c.Z,{sx:{ml:2,mt:.5,width:100,borderRadius:1},variant:"contained",color:"primary",type:"button",onClick:function(){return d(!o)},startIcon:(0,j.jsx)(b.Z,{style:{fontSize:"20px"}}),children:"LIST"})})]}),(0,j.jsx)(a.Z,{open:o,onClose:function(){return d(!o)},fullWidth:!0,children:(0,j.jsx)(T,{})})]})};function M(){var e=(0,m.v9)((function(e){return e.cart.itemList})),n=[{field:"id",headerClassName:"top-header-1",cellClassName:"top-header-2",headerName:"CODE",width:70,align:"left",sortable:!1,headerAlign:"left"},{field:"serviceName",headerClassName:"top-header-1",cellClassName:"top-header-3",headerName:"SERVICE NAME",flex:1,headerAlign:"left",sortable:!1},{headerClassName:"top-header-1",cellClassName:"top-header-2",field:"basePrice",headerName:"PRICE",type:"number",minWidth:120,headerAlign:"center",sortable:!1,align:"center"},{field:"quantityOrdered",headerClassName:"top-header-1",cellClassName:"top-header-3",headerName:"UNIT",type:"number",minWidth:120,headerAlign:"center",sortable:!1,align:"center"},{field:"discountPerUnit",headerClassName:"top-header-1",cellClassName:"top-header-2",headerName:"DISCOUNT",type:"number",minWidth:120,headerAlign:"center",sortable:!1,align:"center"},{headerClassName:"top-header-1",cellClassName:"top-header-3",field:"finalPrice",headerName:"AMOUNT",sortable:!1,align:"center",minWidth:120,valueGetter:function(e){return e.row.quantityOrdered*e.row.basePrice},headerAlign:"center",type:"number"},{headerClassName:"top-header-1",cellClassName:"top-header-2",minWidth:70,align:"center",field:"actions",headerName:"ACTION",type:"actions",renderCell:function(e){return(0,j.jsx)(g,{shouldDelete:e.id})}}];return(0,j.jsxs)(l.Z,{children:[(0,j.jsx)(U,{}),(0,j.jsx)(s.Z,{square:!0,elevation:1,children:(0,j.jsx)(x._,{sx:{bgcolor:"#f5f9f0",height:250,Width:"100%",mt:2,borderRadius:0,border:0},rows:e,columns:n,disableSelectionOnClick:!0,disableColumnSelector:!0,components:{NoRowsOverlay:v.Z},headerHeight:55,hideFooterPagination:!0,disableColumnMenu:!0,density:"compact",showCellRightBorder:!0,showColumnRightBorder:!0,hideFooter:!0})})]})}function k(){var e,n=(0,m.v9)((function(e){return e.cart})),t=n.itemList,i=n.discount,r=n.advance,a=t.reduce((function(e,n){return e+n.basePrice*n.quantityOrdered}),0);(0,h.useEffect)((function(){s((0,Z.tf)({field:"total",value:a-i-r}))}),[a,i,r]);var s=(0,m.I0)(),d=[{field:"totalAmount",headerClassName:"top-header-1",cellClassName:function(e){return e.value>0?"top-header-7":"top-header-5"},headerName:"TOTAL AMOUNT",description:"This column has a value getter and is not sortable.",sortable:!1,flex:1,valueGetter:function(e){return a},headerAlign:"center",align:"center",type:"number"}],c=[(e={field:"discount",headerClassName:"top-header-1",cellClassName:function(e){return e.value<0||e.value>2e3?"top-header-6":"top-header-5"}},(0,R.Z)(e,"field","discount"),(0,R.Z)(e,"headerName","DISCOUNT"),(0,R.Z)(e,"editable",!0),(0,R.Z)(e,"type","number"),(0,R.Z)(e,"flex",1),(0,R.Z)(e,"headerAlign","center"),(0,R.Z)(e,"align","center"),(0,R.Z)(e,"valueGetter",(function(e){return i})),(0,R.Z)(e,"sortable",!1),e)],u=[{field:"advance",headerClassName:"top-header-1",cellClassName:function(e){return e.value<0?"top-header-6":"top-header-5"},headerName:"ADVANCE",editable:!0,type:"number",flex:1,headerAlign:"center",align:"center",sortable:!1,valueGetter:function(e){return r}}],f=[{field:"dueAmount",cellClassName:function(e){return e.value<0?"top-header-6":"top-header-5"},headerClassName:"top-header-1",valueGetter:function(e){return a-i-r||0},headerName:"DUE BY (AMOUNT)",type:"number",flex:1,headerAlign:"center",align:"center",sortable:!1}],p=[{id:"affan",discount:0,advance:0,dueAmount:0}];return(0,j.jsx)(l.Z,{sx:{Width:"100%"},children:(0,j.jsxs)(o.ZP,{container:!0,spacing:1,children:[(0,j.jsx)(o.ZP,{item:!0,md:6,sx:{width:"100%",height:85},children:(0,j.jsx)(x._,{rows:p,columns:c,disableSelectionOnClick:!0,disableColumnSelector:!0,headerHeight:55,hideFooterPagination:!0,disableColumnMenu:!0,density:"compact",showCellRightBorder:!0,showColumnRightBorder:!0,hideFooter:!0,onCellEditCommit:function(e){return s((0,Z.tf)(e))}})}),(0,j.jsx)(o.ZP,{item:!0,md:6,children:(0,j.jsx)(x._,{rows:p,columns:d,disableSelectionOnClick:!0,disableColumnSelector:!0,headerHeight:55,hideFooterPagination:!0,disableColumnMenu:!0,density:"compact",showCellRightBorder:!0,showColumnRightBorder:!0,hideFooter:!0,onCellEditCommit:function(e){return s((0,Z.tf)(e))}})}),(0,j.jsx)(o.ZP,{item:!0,md:6,children:(0,j.jsx)(x._,{rows:p,columns:u,disableSelectionOnClick:!0,disableColumnSelector:!0,headerHeight:55,hideFooterPagination:!0,disableColumnMenu:!0,density:"compact",showCellRightBorder:!0,showColumnRightBorder:!0,hideFooter:!0,onCellEditCommit:function(e){return s((0,Z.tf)(e))}})}),(0,j.jsx)(o.ZP,{item:!0,md:6,sx:{width:"100%",height:84},children:(0,j.jsx)(x._,{rows:p,columns:f,disableSelectionOnClick:!0,disableColumnSelector:!0,headerHeight:55,hideFooterPagination:!0,disableColumnMenu:!0,density:"compact",showCellRightBorder:!0,showColumnRightBorder:!0,hideFooter:!0,onCellEditCommit:function(e){return s((0,Z.tf)(e))}})})]})})}var B=t(1730),L=t(5590),F=t(5145),z=t(4020),W=t(7103),V=new Date,q=[V.getHours(),V.getMinutes().toString()],H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.id,t=void 0===n?q.join("")+Math.random().toString(36).slice(-2):n,i=e.name,r=void 0===i?"":i,a=e.age,l=void 0===a?21:a,s=e.contactNumber,o=void 0===s?"":s,d=e.gender,c=void 0===d?"MALE":d;return{id:t,name:r,gender:c,age:l,contactNumber:o}},_=W.Ry().shape({contactNumber:W.Z_().required("Required").matches(/^(?:\+88|0088)?(01[3-9]\d{8})$/,"Invalid mobile number")}),G=t(2667),J=t(1824),Y=function(){var e=(0,m.I0)(),n=(0,m.v9)(w.iU).customerSaved,t=void 0===n?{data:{name:""}}:n;return(0,j.jsx)("div",{children:(0,j.jsx)(u.J9,{initialValues:H({}),enableReinitialize:!0,validationSchema:_,onSubmit:function(n){e((0,w.t9)({operationId:"api/customers",output:"customerSaved",parameters:{method:"POST",body:JSON.stringify(H(n))}}))},children:function(e){var n,i,r,a,l=e.values,s=e.handleChange,d=e.handleBlur,h=e.handleSubmit,m=e.handleReset,x=e.setFieldValue;return(0,j.jsx)("form",{onSubmit:h,children:(0,j.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,j.jsx)(o.ZP,{item:!0,sm:6,md:3,children:(0,j.jsxs)(C.Z,{spacing:.5,children:[(0,j.jsx)(N.Z,{children:"Full Name"}),(0,j.jsx)(y.Z,{autoFocus:!0,id:"name",name:"name",placeholder:"eg : John Doe",onChange:s,onBlur:d,value:l.name,disabled:!(null===(n=t.data)||void 0===n||!n._id),fullWidth:!0})]})}),(0,j.jsx)(o.ZP,{item:!0,sm:6,md:3,children:(0,j.jsxs)(C.Z,{spacing:.5,children:[(0,j.jsx)(N.Z,{children:"Mobile Number"}),(0,j.jsx)(y.Z,{id:"contactNumber",name:"contactNumber",placeholder:"eg: 01798980000",onBlur:d,value:l.contactNumber,onChange:s,fullWidth:!0,disabled:!(null===(i=t.data)||void 0===i||!i._id)})]})}),(0,j.jsx)(o.ZP,{item:!0,sm:6,md:1.75,children:(0,j.jsxs)(C.Z,{spacing:.5,children:[(0,j.jsx)(N.Z,{sx:{fontWeight:500,textTransform:"uppercase"},htmlFor:"gender",children:"GENDER"}),(0,j.jsxs)(u.Rt,{name:"gender",component:F.Z,value:l.gender,onChange:function(e){x("gender",e.target.value)},children:[(0,j.jsx)(z.Z,{value:"MALE",children:"MALE"}),(0,j.jsx)(z.Z,{value:"FEMALE",children:"FEMALE"})]})]})}),(0,j.jsx)(o.ZP,{item:!0,sm:6,md:1.25,children:(0,j.jsxs)(C.Z,{spacing:.5,children:[(0,j.jsx)(N.Z,{children:"AGe"}),(0,j.jsx)(y.Z,{id:"age",name:"age",placeholder:"AGE",onChange:s,onBlur:d,value:l.age,disabled:!(null===(r=t.data)||void 0===r||!r._id),fullWidth:!0,type:"number"})]})}),(0,j.jsx)(o.ZP,{item:!0,sm:6,md:3,mr:0,children:(0,j.jsxs)(C.Z,{direction:"row",spacing:1,justifyContent:"space-between",alignItems:"flex-end",sx:{height:"100%",width:"100%"},children:[(0,j.jsx)(P.Z,{title:"SAVE CUSTOMER",children:(0,j.jsx)(c.Z,{variant:"contained",endIcon:(0,j.jsx)(G.Z,{style:{fontSize:16}}),color:"info",sx:{borderRadius:1,flexGrow:1},type:"submit",children:null!==(a=t.data)&&void 0!==a&&a._id?"SAVED":"SAVE"})}),(0,j.jsx)(P.Z,{title:"RESET CUSTOMER INFO",children:(0,j.jsx)(c.Z,{variant:"outlined",endIcon:(0,j.jsx)(J.Z,{style:{fontSize:16}}),color:"error",sx:{borderRadius:1,flexGrow:1},type:"reset",onClick:m,children:"RESET"})})]})})]})})}})})},X=function(e){var n=e.setFieldValue,t=e.values,i=(0,m.v9)(w.iU).customerSaved,r=(0,h.useRef)(),a=(0,m.I0)();(0,h.useEffect)((function(){var e;n("customerId",null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e._id)}),[i]);return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(s.Z,{sx:{background:"#f5f9f0",p:2,pt:0},square:!0,children:(0,j.jsxs)(o.ZP,{container:!0,spacing:2,sx:{mt:0},children:[(0,j.jsx)(o.ZP,{item:!0,sm:6,md:2,children:(0,j.jsxs)(C.Z,{spacing:.5,children:[(0,j.jsx)(N.Z,{children:"FIND"}),(0,j.jsx)(y.Z,{autoFocus:!0,id:"id",name:"id",placeholder:"ID/MOBILE",value:t.customerId,fullWidth:!0,inputRef:r})]})}),(0,j.jsx)(o.ZP,{item:!0,sm:6,md:.75,sx:{alignSelf:"flex-end"},children:(0,j.jsx)(L.Z,{color:"primary","aria-label":"search",size:"small",onClick:function(){a((0,w.t9)({operationId:"/".concat(r.current.value),output:"searchedCustomer"}))},sx:{my:"auto"},children:(0,j.jsx)(B.Z,{style:{fontSize:20}})})}),(0,j.jsx)(o.ZP,{item:!0,sm:6,md:9.25,children:(0,j.jsx)(Y,{})})]})})})},K=t(2621),Q=t(8558),$=t(4565),ee=t(1872),ne=function(){return(0,j.jsx)(l.Z,{m:2,children:(0,j.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,j.jsx)(o.ZP,{item:!0,md:2.2,children:(0,j.jsx)("img",{className:"imgStyle",src:"https://img.icons8.com/officel/512/withdrawal.png"})}),(0,j.jsxs)(o.ZP,{item:!0,md:9,children:[(0,j.jsx)($.Z,{variant:"caption",sx:{fontWeight:600,mt:2},children:"ABC GENERAL HOSPITAL"}),(0,j.jsxs)(C.Z,{direction:"row",divider:(0,j.jsx)(ee.Z,{orientation:"vertical",flexItem:!0}),spacing:2,children:[(0,j.jsx)($.Z,{sx:{fontWeight:500},variant:"p",children:"Link road, Dhaka-1206"}),(0,j.jsx)($.Z,{sx:{fontWeight:500},variant:"p",children:"Contact : 0177777461"})]})]})]})})},te=t(1680),ie=t(9773),re=t(4390),ae=t(9963),le=t(9827),se=t(807);function oe(){var e,n,t,i;console.log("rendering report");var r=(0,m.v9)(w.iU).orderSaved,a=void 0===r?{data:{itemList:[]}}:r;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ae.Z,{component:s.Z,variant:"outlined",sx:{minHeight:300},children:(0,j.jsxs)(te.Z,{sx:{Width:550},size:"small",children:[(0,j.jsx)(le.Z,{children:(0,j.jsxs)(se.Z,{children:[(0,j.jsx)(re.Z,{size:"small",sx:{bgcolor:"#f0f0f199"},children:"SERVICE NAME"}),(0,j.jsx)(re.Z,{size:"small",sx:{bgcolor:"#f0f0f199"},align:"right",children:"BASE PRICE"}),(0,j.jsx)(re.Z,{size:"small",sx:{bgcolor:"#f0f0f199"},align:"right",children:"UNIT"}),(0,j.jsx)(re.Z,{size:"small",sx:{bgcolor:"#f0f0f199"},align:"right",children:"VAT"}),(0,j.jsx)(re.Z,{size:"small",sx:{bgcolor:"#f0f0f199"},align:"right",children:"PRICE"})]})}),(0,j.jsx)(ie.Z,{children:a.data.itemList.map((function(e){return(0,j.jsxs)(se.Z,{children:[(0,j.jsx)(re.Z,{component:"th",scope:"row",className:"print-2",children:e.serviceName}),(0,j.jsx)(re.Z,{align:"right",className:"print-3",children:e.basePrice}),(0,j.jsx)(re.Z,{align:"right",className:"print-2",children:e.quantityOrdered}),(0,j.jsx)(re.Z,{align:"right",className:"print-3",children:"0"}),(0,j.jsx)(re.Z,{align:"right",className:"print-2",children:"0"})]},e.id)}))})]})}),(0,j.jsx)(ae.Z,{component:s.Z,variant:"outlined",sx:{mt:2},children:(0,j.jsxs)(te.Z,{sx:{Width:550},size:"small",children:[(0,j.jsx)(le.Z,{children:(0,j.jsxs)(se.Z,{children:[(0,j.jsx)(re.Z,{sx:{bgcolor:"#f0f0f199"},align:"center",children:"TOTAL AMOUNT"}),(0,j.jsx)(re.Z,{sx:{bgcolor:"#f0f0f199"},align:"center",children:"DISCOUNT"}),(0,j.jsx)(re.Z,{sx:{bgcolor:"#f0f0f199"},align:"center",children:"ADVANCE"}),(0,j.jsx)(re.Z,{sx:{bgcolor:"#f0f0f199"},align:"center",children:"DUE"})]})}),(0,j.jsx)(ie.Z,{children:(0,j.jsxs)(se.Z,{children:[(0,j.jsx)(re.Z,{align:"center",className:"print-2",children:(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.total)||0}),(0,j.jsx)(re.Z,{align:"center",className:"print-3 ",children:(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.discount)||0}),(0,j.jsx)(re.Z,{align:"center",className:"print-2",children:(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.advance)||0}),(0,j.jsx)(re.Z,{align:"center",className:"print-3",children:(null===a||void 0===a||null===(i=a.data)||void 0===i?void 0:i.dueAmount)||0})]})})]})})]})}var de=t(1146),ce=t.n(de),ue=t(2426),he=t.n(ue),me=function(e){var n,t,i,r,a,o,d,c,u,x=e.setOpen,f=h.useRef(),Z=(0,m.v9)(w.iU).orderSaved,g=void 0===Z?{data:{}}:Z;console.log("rendering report");var v=function(){return(0,j.jsx)(p.Z,{onClick:function(){return x(!1)},sx:{position:"absolute",right:45,top:15},children:(0,j.jsx)(K.Z,{style:{fontSize:"20px"}})})},b=function(e){var n=e.children;return(0,j.jsx)($.Z,{sx:{ml:1,fontWeight:500},children:n})};return(0,j.jsx)(l.Z,{children:(0,j.jsxs)(s.Z,{variant:"outlined",sx:{width:"595px"},square:!0,children:[(0,j.jsx)(ce(),{trigger:function(){return(0,j.jsx)(p.Z,{color:"info",sx:{position:"absolute",right:15,top:15},children:(0,j.jsx)(Q.Z,{style:{fontSize:"20px"}})})},content:function(){return f}}),(0,j.jsx)(v,{}),(0,j.jsxs)(l.Z,{sx:{m:2},ref:function(e){return f=e},children:[(0,j.jsx)(ne,{}),(0,j.jsxs)(l.Z,{m:2,children:[(0,j.jsxs)(C.Z,{direction:"row",children:[(0,j.jsxs)(C.Z,{direction:"row",alignItems:"flex-start",flex:1,p:1,pb:0,children:[(0,j.jsx)($.Z,{children:"Bill No :"}),(0,j.jsx)(b,{children:"1234"})]}),(0,j.jsxs)(C.Z,{direction:"row",alignItems:"flex-start",flex:1,p:1,pb:0,children:[(0,j.jsx)($.Z,{children:"Term : "}),(0,j.jsx)(b,{children:"Cash"})]}),(0,j.jsxs)(C.Z,{direction:"row",alignItems:"flex-start",flex:1,p:1,pb:0,children:[(0,j.jsx)($.Z,{children:"Date :"}),(0,j.jsx)(b,{children:he()(new Date).format("DD/MM/YYYY")})]})]}),(0,j.jsxs)(C.Z,{direction:"row",children:[(0,j.jsxs)(C.Z,{direction:"row",alignItems:"flex-start",flex:1,p:1,pb:0,children:[(0,j.jsx)($.Z,{children:"Name :"}),(0,j.jsx)(b,{children:(null===g||void 0===g||null===(n=g.data)||void 0===n?void 0:n.name)||"Not found"})]}),(0,j.jsxs)(C.Z,{direction:"row",alignItems:"flex-start",flex:1,p:1,pb:0,children:[(0,j.jsx)($.Z,{children:"Age :"}),(0,j.jsx)(b,{children:(null===g||void 0===g||null===(t=g.data)||void 0===t?void 0:t.age)||"Not found"})]}),(0,j.jsxs)(C.Z,(r={direction:"row",alignItems:"flex-start",flex:1,p:1,pb:0},(0,R.Z)(r,"p",1),(0,R.Z)(r,"pb",0),(0,R.Z)(r,"children",[(0,j.jsx)($.Z,{children:"Contact :"}),(0,j.jsx)(b,{children:(null===g||void 0===g||null===(i=g.data)||void 0===i?void 0:i.contactNumber)||"Not found"})]),r))]})]}),(0,j.jsx)(l.Z,{sx:{p:2,pt:0},children:(0,j.jsx)(oe,{})}),(0,j.jsx)(l.Z,{p:2,pt:0,children:(0,j.jsxs)(C.Z,{sx:{flex:1,flexDirection:"row",justifyContent:"space-between"},children:[(0,j.jsxs)($.Z,{color:"info",children:["Billing manager :",(0,j.jsx)("span",{style:{fontWeight:400,color:"black",marginLeft:"20px"},children:"Affan Habib"})]}),(0,j.jsxs)($.Z,{color:"info",children:["Bill Status :",(0,j.jsx)("span",{style:{fontWeight:300,color:"black",marginLeft:"20px"},children:(null===g||void 0===g||null===(a=g.data)||void 0===a?void 0:a.advance)>0&&(null===g||void 0===g||null===(o=g.data)||void 0===o?void 0:o.dueAmount)<(null===g||void 0===g||null===(d=g.data)||void 0===d?void 0:d.total)?"PARTIALLY PAID":(null===g||void 0===g||null===(c=g.data)||void 0===c?void 0:c.advance)>0&&(null===g||void 0===g||null===(u=g.data)||void 0===u?void 0:u.dueAmount)<=0?"PAID":"DUE"})]})]})})]})]})})},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.itemList,t=void 0===n?[]:n,i=e.total,r=void 0===i?0:i,a=e.discount,l=void 0===a?0:a,s=e.advance,o=void 0===s?0:s,d=e.customerId,c=void 0===d?"":d;return{itemList:t,total:r,discount:l,advance:o,customerId:c}},fe=W.Ry().shape({}),pe=t(8803),Ze=t(5323),je=t(3605),ge=function(){var e=(0,m.I0)(),n=(0,m.v9)((function(e){return e.cart})),t=(0,h.useState)(!1),x=(0,r.Z)(t,2),f=x[0],p=x[1];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(a.Z,{open:f,onClose:function(){return p(!f)},children:(0,j.jsx)(me,{setOpen:p})}),(0,j.jsx)(u.J9,{initialValues:xe({}),validationSchema:fe,onSubmit:function(t,r){var a=r.resetForm;e((0,w.t9)({operationId:"api/orders",output:"orderSaved",parameters:{method:"POST",body:JSON.stringify(xe((0,i.Z)((0,i.Z)({},t),n)))}})),a(),p(!f),e((0,Z.LL)())},children:function(t){return(0,j.jsx)(l.Z,{children:(0,j.jsx)(s.Z,{outlined:!0,sx:{p:2,bgcolor:"#e2ffff"},square:!0,children:(0,j.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,j.jsxs)(o.ZP,{item:!0,md:9,children:[(0,j.jsx)(X,(0,i.Z)({},t)),(0,j.jsx)(M,{})]}),(0,j.jsx)(o.ZP,{item:!0,md:3,sx:{height:"100%"},children:(0,j.jsxs)(s.Z,{sx:{p:2,bgcolor:"#f5f9f0"},children:[(0,j.jsx)(k,(0,i.Z)({},t)),(0,j.jsxs)(d.Z,{variant:"outlined","aria-label":"outlined button group",disableElevation:!0,children:[(0,j.jsx)(c.Z,{color:"primary",variant:"contained",startIcon:(0,j.jsx)(pe.Z,{style:{fontSize:16}}),onClick:function(){return t.handleSubmit()},type:"submit",sx:{mt:2,borderRadius:10},disabled:!t.values.customerId||!n.itemList.length,children:"SAVE"}),(0,j.jsx)(c.Z,{startIcon:(0,j.jsx)(Ze.Z,{style:{fontSize:16}}),color:"info",onClick:function(){return t.handleSubmit()},disabled:!n.itemList.length,type:"submit",sx:{mt:2},children:"DRAFT"}),(0,j.jsx)(c.Z,{startIcon:(0,j.jsx)(je.Z,{style:{fontSize:16}}),color:"error",variant:"outlined",sx:{mt:2,borderRadius:10},onClick:function(){t.handleReset(),e((0,Z.LL)())},children:"RESET"})]})]})})]})})})}})]})}},6877:function(e,n,t){t.d(n,{Z:function(){return b}});t(2791);var i=t(2506),r=t(3811),a=t(5953),l=t(4565),s=t(4162),o=t(9365),d=t(9911),c=t(7924),u=t(1091),h=t(7103),m=new Date,x=[m.getMonth(),m.getYear().toString().substr(-1)],f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.id,t=void 0===n?x.join("")+Math.random().toString(36).slice(-2):n,i=e.serviceName,r=void 0===i?"":i,a=e.basePrice,l=void 0===a?null:a,s=e.expiryDate,o=void 0===s?0:s,d=e.vatPerUnit,c=void 0===d?0:d,u=e.discountPerUnit,h=void 0===u?0:u,m=e.stock,f=void 0===m?12:m;return{id:t,serviceName:r,basePrice:l,discountPerUnit:h,expiryDate:o,vatPerUnit:c,stock:f}},p=h.Ry().shape({}),Z=t(6030),j=t(1502),g=t(2621),v=t(184),b=function(e){var n=e.setOpen,t=(0,Z.I0)(),h=function(){return(0,v.jsx)(r.Z,{onClick:function(){return n(!1)},sx:{position:"absolute",right:15,top:15},children:(0,v.jsx)(g.Z,{style:{fontSize:"20px"}})})};return(0,v.jsx)("div",{children:(0,v.jsx)(i.J9,{initialValues:f({}),enableReinitialize:!0,validationSchema:p,onSubmit:function(e){t((0,j.t9)({operationId:"api/products",output:"itemSaved",parameters:{method:"POST",body:JSON.stringify(f(e))}}))},children:function(e){var n=e.values,t=e.errors,i=e.touched,r=e.handleChange,m=e.handleBlur,x=e.handleSubmit;return(0,v.jsx)("form",{onSubmit:x,children:(0,v.jsxs)(a.ZP,{container:!0,spacing:2,sx:{maxWidth:600,p:2},children:[(0,v.jsx)(h,{}),(0,v.jsx)(a.ZP,{item:!0,xs:12,sm:12,children:(0,v.jsx)(l.Z,{variant:"h5",color:"primary",sx:{display:"block"},children:"ADD PRODUCT / SERVICE"})}),(0,v.jsx)(a.ZP,{item:!0,xs:2,sm:2,children:(0,v.jsxs)(s.Z,{spacing:.5,children:[(0,v.jsx)(o.Z,{children:"ID"}),(0,v.jsx)(d.Z,{autoFocus:!0,id:"id",name:"id",placeholder:"Enter name",onChange:r,onBlur:m,value:n.id,fullWidth:!0}),i.id&&t.id&&(0,v.jsx)(c.Z,{error:!0,children:t.id})]})}),(0,v.jsx)(a.ZP,{item:!0,xs:8,sm:6,children:(0,v.jsxs)(s.Z,{spacing:.5,children:[(0,v.jsx)(o.Z,{children:"Product/service name"}),(0,v.jsx)(d.Z,{autoFocus:!0,id:"serviceName",name:"serviceName",placeholder:"Enter name",onChange:r,onBlur:m,value:n.serviceName,fullWidth:!0}),i.serviceName&&t.serviceName&&(0,v.jsx)(c.Z,{error:!0,children:t.serviceName})]})}),(0,v.jsx)(a.ZP,{item:!0,xs:4,md:4,children:(0,v.jsxs)(s.Z,{spacing:.5,children:[(0,v.jsx)(o.Z,{children:"BASE PRICE"}),(0,v.jsx)(d.Z,{id:"basePrice",name:"basePrice",placeholder:"Enter Age",onChange:r,onBlur:m,value:n.basePrice,fullWidth:!0,type:"number"}),i.basePrice&&t.basePrice&&(0,v.jsx)(c.Z,{error:!0,children:t.basePrice})]})}),(0,v.jsx)(a.ZP,{item:!0,xs:4,md:4,children:(0,v.jsxs)(s.Z,{spacing:.5,children:[(0,v.jsx)(o.Z,{children:"Discount Per Unit"}),(0,v.jsx)(d.Z,{id:"discountPerUnit",name:"discountPerUnit",placeholder:"Discount Per Unit",onChange:r,onBlur:m,value:n.discountPerUnit,fullWidth:!0,type:"number"}),i.discountPerUnit&&t.discountPerUnit&&(0,v.jsx)(c.Z,{error:!0,children:t.discountPerUnit})]})}),(0,v.jsx)(a.ZP,{item:!0,xs:4,md:4,children:(0,v.jsxs)(s.Z,{spacing:.5,children:[(0,v.jsx)(o.Z,{children:"AVAILABLE STOCKS"}),(0,v.jsx)(d.Z,{id:"stock",name:"stock",placeholder:"Enter available Stock",onChange:r,onBlur:m,value:n.stock,fullWidth:!0,type:"number"}),i.stock&&t.stock&&(0,v.jsx)(c.Z,{error:!0,children:t.stock})]})}),(0,v.jsx)(a.ZP,{item:!0,xs:4,md:4,children:(0,v.jsxs)(s.Z,{spacing:.5,children:[(0,v.jsx)(o.Z,{children:"Expiry Date"}),(0,v.jsx)(d.Z,{id:"expiryDate",name:"expiryDate",placeholder:"Enter Age",onChange:r,onBlur:m,value:n.expiryDate,fullWidth:!0,type:"number"}),i.expiryDate&&t.expiryDate&&(0,v.jsx)(c.Z,{error:!0,children:t.expiryDate})]})}),(0,v.jsx)(a.ZP,{item:!0,xs:4,md:4,children:(0,v.jsxs)(s.Z,{spacing:.5,children:[(0,v.jsx)(o.Z,{children:"Vat Per Unit"}),(0,v.jsx)(d.Z,{id:"vatPerUnit",name:"vatPerUnit",placeholder:"Enter Age",onChange:r,onBlur:m,value:n.vatPerUnit,fullWidth:!0,type:"number"}),i.vatPerUnit&&t.vatPerUnit&&(0,v.jsx)(c.Z,{error:!0,children:t.vatPerUnit})]})}),(0,v.jsx)(a.ZP,{item:!0,xs:12,children:(0,v.jsx)(u.Z,{variant:"contained",color:"info",fullWidth:!0,type:"submit",children:"Submit"})})]})})}})})}}}]);
//# sourceMappingURL=513.949ed97e.chunk.js.map