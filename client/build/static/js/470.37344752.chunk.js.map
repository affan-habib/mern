{"version":3,"file":"static/js/470.37344752.chunk.js","mappings":"2UA2BA,EAtBsB,SAAH,GAA0B,IAApBA,EAAY,EAAZA,aACjBC,GAAWC,EAAAA,EAAAA,MACjB,OACE,SAACC,EAAA,EAAU,CACTC,MAAM,QACNC,QAAS,kBACPJ,GACEK,EAAAA,EAAAA,IAAQ,CACNC,YAAY,gBAAD,OAAkBP,GAC7BQ,OAAQ,cACRC,WAAY,CACVC,OAAQ,YAGb,EACF,UAED,SAACC,EAAA,EAAc,KAGrB,E,oBCuKA,EArLiB,WACf,IAAMV,GAAWC,EAAAA,EAAAA,MACjB,GAUIU,EAAAA,EAAAA,IAAYC,EAAAA,IAAU,IATxBC,MAAAA,OAAK,MAAG,CACNC,KAAM,IACP,MACDC,YAAAA,OAAW,MAAG,CACZD,KAAM,CACJE,GAAI,OAEP,EACDC,EAAS,EAATA,WAEFC,EAAAA,EAAAA,YAAU,WACRC,YACE,kBACEnB,GACEK,EAAAA,EAAAA,IAAQ,CACNC,YAAY,eACZC,OAAQ,UAEX,GACH,IAEJ,GAAG,CAACQ,EAAYD,KAAKE,GAAIC,IACzB,IAAMG,EAAU,CACd,CACEC,MAAO,KACPC,gBAAiB,eACjBC,cAAe,eACfC,WAAY,KACZC,MAAO,GACPC,MAAO,SACPC,UAAU,EACVC,YAAa,UAEf,CACEP,MAAO,cACPC,gBAAiB,eACjBC,cAAe,eACfC,WAAY,eACZK,KAAM,EACND,YAAa,OACbD,UAAU,GAEZ,CACEL,gBAAiB,eACjBC,cAAe,eACfF,MAAO,YACPG,WAAY,QACZM,KAAM,SACNC,SAAU,IACVH,YAAa,SACbD,UAAU,EACVD,MAAO,UAET,CACEJ,gBAAiB,eACjBC,cAAe,eACfF,MAAO,kBACPG,WAAY,WACZM,KAAM,SACNC,SAAU,IACVH,YAAa,SACbD,UAAU,EACVD,MAAO,UAET,CACEJ,gBAAiB,eACjBC,cAAe,eACfF,MAAO,aACPG,WAAY,eACZM,KAAM,SACNC,SAAU,IACVH,YAAa,SACbD,UAAU,EACVD,MAAO,UAET,CACEJ,gBAAiB,eACjBC,cAAe,eACfF,MAAO,aACPG,WAAY,cACZM,KAAM,SACNC,SAAU,IACVH,YAAa,SACbD,UAAU,EACVD,MAAO,UAET,CACEK,SAAU,IACVL,MAAO,SACPL,MAAO,UACPG,WAAY,SACZM,KAAM,UACNR,gBAAiB,eACjBC,cAAe,eACfS,WAAY,SAACC,GAAM,OAAK,SAAC,EAAa,CAAClC,aAAckC,EAAOjB,IAAM,IAGtE,EAA8CkB,EAAAA,SAAe,IAAG,eAAzDC,EAAe,KAAEC,EAAkB,KAC1C,EAAwBF,EAAAA,UAAe,GAAM,eAAtCG,EAAI,KAAEC,EAAO,KA8BpB,OACE,UAACC,EAAA,EAAK,CAACC,UAAW,EAAGC,GAAI,CAAEhB,MAAO,OAAQiB,QAAS,WAAY,WAC7D,UAACC,EAAA,EAAK,CAACC,UAAU,MAAK,WACpB,SAACC,EAAA,EAAM,CACLJ,GAAI,CAAEK,EAAG,EAAGrB,MAAO,KACnBsB,QAAQ,YACR3C,QAAS,kBAAMkC,GAAQ,EAAK,EAAC,8BAI/B,SAACO,EAAA,EAAM,CACLJ,GAAI,CAAEK,EAAG,EAAGE,GAAI,EAAGvB,MAAO,KAC1BwB,SAAoC,GAA1Bd,EAAgBe,OAC1BH,QAAQ,YACR5C,MAAM,UACNC,QAAS,kBA3COS,EAAMC,KAAKqC,QAC/B,SAACC,GAAE,OAAKjB,EAAgBkB,QAAQD,EAAGpC,IAAM,CAAC,IAGrBsC,SAAQ,SAACF,GAAE,aAChCpD,GACEuD,EAAAA,EAAAA,KAAU,kBACLH,GAAE,OACLI,gBAAiB,EACjBC,WAAY,EACZC,WAAY,IAAC,2BACI,IAAC,2BACD,IAAC,4BACA,IAAC,yBACJ,IAAC,4BACE,IAAC,oBACT,IAAC,uBACE,IAAC,2BACG,IAAC,4BACA,IAAC,oBACT,IAAC,sBACC,WAAQ,sBACR,4BAA0B,KAEzC,GAmB6B,EAAC,SAE1BvB,EAAgBe,OAAS,kBAAoB,qBAEhD,SAACS,EAAA,EAAM,CAACtB,KAAMA,EAAMuB,QAAS,kBAAMtB,GAASD,EAAK,EAAC,UAChD,SAACwB,EAAA,EAAU,CAACvB,QAASA,UAGzB,SAACwB,EAAA,EAAQ,CACPrB,GAAI,CAAEsB,OAAQ,KACdC,SAAU,SAACC,GAAG,OAAKA,EAAIC,GAAG,EAC1BC,mBAAmB,EACnBC,KAAMvD,EAAMC,KACZM,QAASA,EAETiD,yBAAuB,EACvBC,uBAAqB,EACrBC,WAAY,CACVC,cAAeC,EAAAA,EACfC,WAAYC,EAAAA,GAEdC,aAAc,GACdC,sBAAoB,EACpBC,mBAAiB,EACjBC,QAAQ,UACRC,qBAAqB,EACrBC,uBAAuB,EACvBC,uBAAwB,SAACC,GACvB/C,EAAmB+C,EACrB,MAIR,C","sources":["pages/products/DeleteProduct.js","pages/products/Products.js"],"sourcesContent":["import { DeleteOutlined } from \"@mui/icons-material\";\r\nimport { IconButton } from \"@mui/material\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { callApi } from \"../../reducers/apiSlice\";\r\n\r\nconst DeleteProduct = ({ shouldDelete }) => {\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <IconButton\r\n      color=\"error\"\r\n      onClick={() =>\r\n        dispatch(\r\n          callApi({\r\n            operationId: `api/products/${shouldDelete}`,\r\n            output: \"itemDeleted\",\r\n            parameters: {\r\n              method: \"DELETE\",\r\n            },\r\n          })\r\n        )\r\n      }\r\n    >\r\n      <DeleteOutlined />\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nexport default DeleteProduct;\r\n","import React, { useEffect } from \"react\";\r\nimport { Box, Button, Stack, Dialog, Paper } from \"@mui/material\";\r\nimport { DataGrid, gridClasses } from \"@mui/x-data-grid\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { callApi, selectApi } from \"../../reducers/apiSlice\";\r\nimport { addToCart } from \"../../reducers/cartSlice\";\r\nimport AddProduct from \"./AddProduct\";\r\nimport DeleteProduct from \"./DeleteProduct\";\r\nimport NoRowIcon from \"../../components/NoRowIcon\";\r\nimport CustomPagination from \"../../components/Pagination\";\r\n\r\nconst Products = () => {\r\n  const dispatch = useDispatch();\r\n  const {\r\n    items = {\r\n      data: [],\r\n    },\r\n    itemDeleted = {\r\n      data: {\r\n        id: null,\r\n      },\r\n    },\r\n    itemSaved,\r\n  } = useSelector(selectApi);\r\n  useEffect(() => {\r\n    setTimeout(\r\n      () =>\r\n        dispatch(\r\n          callApi({\r\n            operationId: `api/products`,\r\n            output: \"items\",\r\n          })\r\n        ),\r\n      1000\r\n    );\r\n  }, [itemDeleted.data.id, itemSaved]);\r\n  const columns = [\r\n    {\r\n      field: \"id\",\r\n      headerClassName: \"top-header-1\",\r\n      cellClassName: \"top-header-2\",\r\n      headerName: \"ID\",\r\n      width: 50,\r\n      align: \"center\",\r\n      sortable: false,\r\n      headerAlign: \"center\",\r\n    },\r\n    {\r\n      field: \"serviceName\",\r\n      headerClassName: \"top-header-1\",\r\n      cellClassName: \"top-header-3\",\r\n      headerName: \"SERVICE NAME\",\r\n      flex: 1,\r\n      headerAlign: \"left\",\r\n      sortable: false,\r\n    },\r\n    {\r\n      headerClassName: \"top-header-1\",\r\n      cellClassName: \"top-header-2\",\r\n      field: \"basePrice\",\r\n      headerName: \"PRICE\",\r\n      type: \"number\",\r\n      minWidth: 120,\r\n      headerAlign: \"center\",\r\n      sortable: false,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      headerClassName: \"top-header-1\",\r\n      cellClassName: \"top-header-3\",\r\n      field: \"discountPerUnit\",\r\n      headerName: \"DISCOUNT\",\r\n      type: \"number\",\r\n      minWidth: 120,\r\n      headerAlign: \"center\",\r\n      sortable: false,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      headerClassName: \"top-header-1\",\r\n      cellClassName: \"top-header-2\",\r\n      field: \"vatPerUnit\",\r\n      headerName: \"VAT PER UNIT\",\r\n      type: \"number\",\r\n      minWidth: 120,\r\n      headerAlign: \"center\",\r\n      sortable: false,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      headerClassName: \"top-header-1\",\r\n      cellClassName: \"top-header-3\",\r\n      field: \"expiryDate\",\r\n      headerName: \"EXPIRY DATE\",\r\n      type: \"number\",\r\n      minWidth: 120,\r\n      headerAlign: \"center\",\r\n      sortable: false,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      minWidth: 120,\r\n      align: \"center\",\r\n      field: \"actions\",\r\n      headerName: \"ACTION\",\r\n      type: \"actions\",\r\n      headerClassName: \"top-header-1\",\r\n      cellClassName: \"top-header-2\",\r\n      renderCell: (params) => <DeleteProduct shouldDelete={params.id} />,\r\n    },\r\n  ];\r\n  const [selectedOptions, setSelectedOptions] = React.useState([]);\r\n  const [open, setOpen] = React.useState(false);\r\n  const handleadd = () => {\r\n    let SelectedOptions = items.data.filter(\r\n      (el) => selectedOptions.indexOf(el.id) + 1\r\n    );\r\n\r\n    return SelectedOptions.forEach((el) =>\r\n      dispatch(\r\n        addToCart({\r\n          ...el,\r\n          discountPerUnit: 0,\r\n          expiryDate: 0,\r\n          vatPerUnit: 0,\r\n          discountPerUnit: 0,\r\n          quantityOrdered: 1,\r\n          quantityReturned: 0,\r\n          discountTotal: 0,\r\n          discountReturned: 0,\r\n          vatTotal: 0,\r\n          vatReturned: 0,\r\n          subtotalOrdered: 0,\r\n          subtotalReturned: 0,\r\n          rowTotal: 0,\r\n          returnedBy: \"string\",\r\n          returnDate: \"2022-11-13T11:35:33.765Z\",\r\n        })\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Paper elevation={1} sx={{ width: \"100%\", bgcolor: \"#f5f9f0\" }}>\r\n      <Stack direction=\"row\">\r\n        <Button\r\n          sx={{ m: 2, width: 200 }}\r\n          variant=\"contained\"\r\n          onClick={() => setOpen(true)}\r\n        >\r\n          Add New service\r\n        </Button>\r\n        <Button\r\n          sx={{ m: 2, ml: 0, width: 200 }}\r\n          disabled={selectedOptions.length == 0}\r\n          variant=\"contained\"\r\n          color=\"warning\"\r\n          onClick={() => handleadd()}\r\n        >\r\n          {selectedOptions.length ? \"Add to New bill\" : \"Select services\"}\r\n        </Button>\r\n        <Dialog open={open} onClose={() => setOpen(!open)}>\r\n          <AddProduct setOpen={setOpen} />\r\n        </Dialog>\r\n      </Stack>\r\n      <DataGrid\r\n        sx={{ height: 400 }}\r\n        getRowId={(row) => row._id}\r\n        checkboxSelection={true}\r\n        rows={items.data}\r\n        columns={columns}\r\n        // pageSize={5}\r\n        disableSelectionOnClick\r\n        disableColumnSelector\r\n        components={{\r\n          NoRowsOverlay: NoRowIcon,\r\n          Pagination: CustomPagination,\r\n        }}\r\n        headerHeight={55}\r\n        hideFooterPagination\r\n        disableColumnMenu\r\n        density=\"compact\"\r\n        showCellRightBorder={true}\r\n        showColumnRightBorder={true}\r\n        onSelectionModelChange={(newSelectionModel) => {\r\n          setSelectedOptions(newSelectionModel);\r\n        }}\r\n      />\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n"],"names":["shouldDelete","dispatch","useDispatch","IconButton","color","onClick","callApi","operationId","output","parameters","method","DeleteOutlined","useSelector","selectApi","items","data","itemDeleted","id","itemSaved","useEffect","setTimeout","columns","field","headerClassName","cellClassName","headerName","width","align","sortable","headerAlign","flex","type","minWidth","renderCell","params","React","selectedOptions","setSelectedOptions","open","setOpen","Paper","elevation","sx","bgcolor","Stack","direction","Button","m","variant","ml","disabled","length","filter","el","indexOf","forEach","addToCart","discountPerUnit","expiryDate","vatPerUnit","Dialog","onClose","AddProduct","DataGrid","height","getRowId","row","_id","checkboxSelection","rows","disableSelectionOnClick","disableColumnSelector","components","NoRowsOverlay","NoRowIcon","Pagination","CustomPagination","headerHeight","hideFooterPagination","disableColumnMenu","density","showCellRightBorder","showColumnRightBorder","onSelectionModelChange","newSelectionModel"],"sourceRoot":""}