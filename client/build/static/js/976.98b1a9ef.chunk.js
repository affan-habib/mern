"use strict";(self.webpackChunkbilling_front_end=self.webpackChunkbilling_front_end||[]).push([[976],{4976:function(e,n,t){t.r(n),t.d(n,{default:function(){return I}});var r=t(1413),i=t(9439),a=t(2791),l=t(6015),d=t(6650),o=t(4162),s=t(1091),c=t(5399),u=t(3435),h=t(6030),m=t(1502),g=t(8014),p=t(2506),x=t(3811),f=t(5953),Z=t(9365),j=t(9911),C=t(7103),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=new Date,t=[n.getHours(),n.getMinutes().toString()],r=e.id,i=void 0===r?Math.random().toString(36).slice(-2)+t.join(""):r,a=e.name,l=void 0===a?"":a,d=e.age,o=void 0===d?21:d,s=e.contactNumber,c=void 0===s?"":s,u=e.gender,h=void 0===u?"MALE":u;return{id:i,name:l,gender:h,age:o,contactNumber:c}},N=C.Ry().shape({id:C.Z_().required("Required"),name:C.Z_().required("Required"),gender:C.Z_().required("Required"),age:C.Rx().required("Required"),contactNumber:C.Z_().required("Required")}),v=t(2621),S=t(184),R=function(e){var n=e.setOpen,t=(0,h.I0)(),r=function(){return(0,S.jsx)(x.Z,{onClick:function(){return n(!1)},sx:{position:"absolute",right:15,top:15},children:(0,S.jsx)(v.Z,{style:{fontSize:"20px"}})})};return(0,S.jsx)("div",{children:(0,S.jsx)(p.J9,{initialValues:b({}),enableReinitialize:!0,validationSchema:N,onSubmit:function(e){t((0,m.t9)({operationId:"api/customers",output:"customerSaved",parameters:{method:"POST",body:JSON.stringify(b(e))}}))},children:function(e){var n=e.values,t=e.handleChange,i=e.handleBlur,a=e.handleSubmit;return(0,S.jsx)("form",{onSubmit:a,children:(0,S.jsxs)(f.ZP,{container:!0,spacing:2,sx:{p:2},children:[(0,S.jsx)(r,{}),(0,S.jsx)(f.ZP,{item:!0,lg:2,children:(0,S.jsxs)(o.Z,{spacing:.5,children:[(0,S.jsx)(Z.Z,{children:"Id"}),(0,S.jsx)(j.Z,{id:"id",name:"id",placeholder:"ID",onChange:t,onBlur:i,value:n.id,fullWidth:!0})]})}),(0,S.jsx)(f.ZP,{item:!0,lg:3,children:(0,S.jsxs)(o.Z,{spacing:.5,children:[(0,S.jsx)(Z.Z,{children:"Name"}),(0,S.jsx)(j.Z,{autoFocus:!0,id:"name",name:"name",placeholder:"FULL NAME",onChange:t,onBlur:i,value:n.name,fullWidth:!0})]})}),(0,S.jsx)(f.ZP,{item:!0,lg:1,children:(0,S.jsxs)(o.Z,{spacing:.5,children:[(0,S.jsx)(Z.Z,{children:"Gender"}),(0,S.jsx)(j.Z,{id:"gender",name:"gender",placeholder:"GENDER",onChange:t,onBlur:i,value:n.gender,fullWidth:!0})]})}),(0,S.jsx)(f.ZP,{item:!0,lg:1,children:(0,S.jsxs)(o.Z,{spacing:.5,children:[(0,S.jsx)(Z.Z,{children:"AGe"}),(0,S.jsx)(j.Z,{id:"age",name:"age",placeholder:"AGE",onChange:t,onBlur:i,value:n.age,fullWidth:!0,type:"number"})]})}),(0,S.jsx)(f.ZP,{item:!0,lg:2,children:(0,S.jsxs)(o.Z,{spacing:.5,children:[(0,S.jsx)(Z.Z,{children:"Contact Number"}),(0,S.jsx)(j.Z,{id:"contactNumber",name:"contactNumber",placeholder:"MOBILE NUMBER",onChange:t,onBlur:i,value:n.contactNumber,fullWidth:!0})]})}),(0,S.jsx)(f.ZP,{item:!0,lg:2,children:(0,S.jsx)(o.Z,{direction:"row",justifyContent:"flex-start",alignItems:"flex-end",sx:{height:"100%"},children:(0,S.jsx)(s.Z,{variant:"contained",color:"info",type:"submit",children:"SAVE"})})})]})})}})})},w=t(9825),y=function(e){var n=e.shouldDelete,t=(0,h.I0)(),r=(0,h.v9)(m.iU).loading;return(0,S.jsx)(x.Z,{disabled:r,color:"error",onClick:function(){return t((0,m.t9)({operationId:"api/customers/".concat(n),output:"customerDeleted",parameters:{method:"DELETE"}}))},children:(0,S.jsx)(w.Z,{})})},E=t(2986),A=t(2039),I=function(){var e=(0,h.I0)(),n=(0,h.v9)(m.iU),t=(n.loading,n.customers),p=void 0===t?{data:[]}:t,x=n.customerDeleted,f=void 0===x?{data:{id:null}}:x,Z=n.customerSaved;(0,a.useEffect)((function(){setTimeout((function(){return e((0,m.t9)({operationId:"api/customers",output:"customers"}))}),1e3)}),[f.data.id,Z]);var j=[{field:"id",headerClassName:"top-header-1",cellClassName:"top-header-2",headerName:"ID",width:50,align:"center",sortable:!1,headerAlign:"center"},{field:"name",headerClassName:"top-header-1",cellClassName:"top-header-3",headerName:"CLIENT NAME",flex:1,headerAlign:"left",sortable:!1},{headerClassName:"top-header-1",cellClassName:"top-header-2",field:"age",headerName:"AGE",type:"number",minWidth:60,headerAlign:"center",sortable:!1,align:"center"},{headerClassName:"top-header-1",cellClassName:"top-header-3",field:"contactNumber",headerName:"CONTACT",type:"text",minWidth:120,headerAlign:"center",sortable:!1,align:"left"},{headerClassName:"top-header-1",cellClassName:"top-header-2",field:"gender",headerName:"GENDER",type:"text",minWidth:120,headerAlign:"center",sortable:!1,align:"center",renderCell:function(e){return(0,S.jsx)(l.Z,{sx:{m:1,pr:1,pl:1,bgcolor:"primary.main",color:"white",borderRadius:5,fontSize:14},children:e.value.toUpperCase()})}},{minWidth:120,align:"center",field:"actions",headerName:"ACTION",type:"actions",headerClassName:"top-header-1",cellClassName:"top-header-3",renderCell:function(e){return(0,S.jsx)(y,{shouldDelete:e.id})}}],C=a.useState([]),b=(0,i.Z)(C,2),N=b[0],v=b[1],w=a.useState(!1),I=(0,i.Z)(w,2),q=I[0],B=I[1];return(0,S.jsxs)(d.Z,{elevation:1,sx:{pt:2,pb:2,width:"100%",bgcolor:"#f5f9f0"},children:[(0,S.jsxs)(o.Z,{direction:"row",children:[(0,S.jsx)(s.Z,{sx:{mb:2,ml:2,width:200},variant:"contained",onClick:function(){return B(!0)},children:"Add New Customer"}),(0,S.jsx)(s.Z,{sx:{mb:2,ml:2,width:200},disabled:1!==N.length,variant:"contained",color:"warning",onClick:function(){return p.data.filter((function(e){return N.indexOf(e.id)+1})).forEach((function(n){return e((0,g.Xq)((0,r.Z)((0,r.Z)({},n),{},{contactNumber:0,expiryDate:0,vatPerUnit:0,discountPerUnit:0,quantityOrdered:1,quantityReturned:0,discountTotal:0,discountReturned:0,vatTotal:0,vatReturned:0,subtotalOrdered:0,subtotalReturned:0,rowTotal:0,returnedBy:"string",returnDate:"2022-11-13T11:35:33.765Z"})))}))},children:N.length?"Bill to customer":"Select Customer"}),(0,S.jsx)(c.Z,{open:q,onClose:function(){return B(!q)},children:(0,S.jsx)(R,{setOpen:B})})]}),(0,S.jsx)(u._,{sx:{mr:2,ml:2,height:400},getRowId:function(e){return e._id},checkboxSelection:!0,rows:p.data,columns:j,pageSize:10,disableSelectionOnClick:!0,disableColumnSelector:!0,components:{NoRowsOverlay:E.Z,Pagination:A.Z},headerHeight:55,disableColumnMenu:!0,density:"compact",showCellRightBorder:!0,showColumnRightBorder:!0,onSelectionModelChange:function(e){v(e)}})]})}}}]);
//# sourceMappingURL=976.98b1a9ef.chunk.js.map